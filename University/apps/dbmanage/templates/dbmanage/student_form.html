{% extends "base.html" %}
{% block content %}
  <div class="container-fluid">
    <nav class="navbar navbar-light">
      <div class="container-fluid">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href={% url 'index' %}>Home</a></li>
          <li class="breadcrumb-item active" aria-current="page">Students({{ students.count }})</li>
        </ol>
      </div>
    </nav>
  </div>
  <div class="container">
    <div class="row">
      <div class="col-sm input-group input-group-sm mb-3 ms-5">
        <form action="{% url 'student_manager' %}" method="post">
          {% csrf_token %}
          {% for field in form %}
            <div class="row">
              {{field.label_tag}}
              {{field}}
              {% if field.errors%}
              <div class="alert alert-success" role="alert">
                {{field.errors}}
              </div>
              {% endif %}
            </div>
          {% endfor %}
          <div class="container mt-3">
          <input type="submit" class="btn btn-outline-primary" name="submit" value="Создать/Изменить">
        <a type="submit" href="students/parse" class="btn btn-outline-danger">Импорт</a></form>
        </div>
        </div>
    {% if students %}
        {% include './filter_forms.html' %}
      </div>
    <div class="container">
      <table class="sortable table">
        <tr>
          <th>ID</th>
          <th>Имя</th>
          <th>Группа</th>
          <th class="sorttable_nosort">Действия</th>
        </tr>
        <tr>
          {% for s in students %}
            <tr>
              <td>{{s.id}}</td>
              <td>{{s.student_name}}</td>
              <td>{{s.group}}</td>
              <td><a href="delete/students/{{s.id}}"><svg width="20" height="20" viewBox="0 0 15 15" fill="none"><path d="M5.5 1C5.22386 1 5 1.22386 5 1.5C5 1.77614 5.22386 2 5.5 2H9.5C9.77614 2 10 1.77614 10 1.5C10 1.22386 9.77614 1 9.5 1H5.5ZM3 3.5C3 3.22386 3.22386 3 3.5 3H5H10H11.5C11.7761 3 12 3.22386 12 3.5C12 3.77614 11.7761 4 11.5 4H11V12C11 12.5523 10.5523 13 10 13H5C4.44772 13 4 12.5523 4 12V4L3.5 4C3.22386 4 3 3.77614 3 3.5ZM5 4H10V12H5V4Z" fill="currentColor" fill-rule="evenodd" clip-rule="evenodd"></path></svg></a></td>
        {% endfor %}
          </tr>
        </table>
        <a type="submit" href="delete/students/all" class="btn btn-outline-danger">Удалить всё</a></form>
      </div>
    {% else %}
    <div class="content ms-5">
      <p>Таблица не найдена</p><a type="submit" href="{% url 'student_manager' %}" class="btn btn-outline-warning me-3">Сбросить</a>
    </div>
  {% endif %}
{% endblock %}
